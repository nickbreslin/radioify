(function(t){function e(e){for(var a,s,r=e[0],i=e[1],l=e[2],b=0,u=[];b<r.length;b++)s=r[b],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),c()}function c(){for(var t,e=0;e<o.length;e++){for(var c=o[e],a=!0,r=1;r<c.length;r++){var i=c[r];0!==n[i]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=c[0]))}return t}var a={},n={app:0},o=[];function s(e){if(a[e])return a[e].exports;var c=a[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=t,s.c=a,s.d=function(t,e,c){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(c,a,function(e){return t[e]}.bind(null,a));return c},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/radioify/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=i;o.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"24eb":function(t,e,c){},3796:function(t,e,c){},5545:function(t,e,c){"use strict";c("3796")},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var a=c("7a23"),n={class:"container mt-5"},o={class:"row justify-content-center"},s={class:"col-12 col-md-8"};function r(t,e,c,r,i,l){var d=Object(a["x"])("TheHeader"),b=Object(a["x"])("router-view"),u=Object(a["x"])("TheFooter");return Object(a["q"])(),Object(a["d"])("div",n,[Object(a["h"])("div",o,[Object(a["h"])("div",s,[Object(a["h"])(d,{class:"mb-5"}),Object(a["h"])(b),Object(a["h"])(u)])])])}var i=c("6f2c"),l=c.n(i),d=Object(a["F"])("data-v-794641cf");Object(a["t"])("data-v-794641cf");var b={class:"row"},u=Object(a["h"])("div",{class:"col-9"},[Object(a["h"])("h1",{class:"h3"},[Object(a["g"])(" Radioify for "),Object(a["h"])("img",{class:"logo",src:l.a})])],-1),h={class:"col mt-4 text-end"};Object(a["r"])();var f=d((function(t,e,c,n,o,s){return Object(a["q"])(),Object(a["d"])("div",b,[u,Object(a["h"])("div",h,[Object(a["E"])(Object(a["h"])("button",{class:"btn btn-link pt-0 mt-0",onClick:e[1]||(e[1]=function(t){return s.clearToken()})}," Logout ",512),[[a["B"],t.getToken]])])])})),p=c("5530"),j=c("5502"),O={name:"TheHeader",props:{},computed:Object(p["a"])({},Object(j["c"])(["getToken"])),methods:Object(p["a"])(Object(p["a"])({},Object(j["b"])(["setToken"])),{},{clearToken:function(){this.setToken(""),this.$router.push({name:"Main"})}})};c("b5cb");O.render=f,O.__scopeId="data-v-794641cf";var v=O,g=Object(a["F"])("data-v-bfc10306");Object(a["t"])("data-v-bfc10306");var m={class:"footer mb-5 pt-5"},y=Object(a["f"])('<div class="row" data-v-bfc10306><div class="col-9" data-v-bfc10306><p class="m-0" data-v-bfc10306> Radioify made by <a href="https://www.nickbreslin.com" data-v-bfc10306>Nick Breslin</a>. </p><p class="m-0" data-v-bfc10306> Proudly built with <a href="https://https://vuejs.org/" data-v-bfc10306>Vue</a> and <a href="https://getbootstrap.com/" data-v-bfc10306>Bootstrap</a>. </p></div></div>',1);Object(a["r"])();var T=g((function(t,e,c,n,o,s){return Object(a["q"])(),Object(a["d"])("div",m,[y])})),k={name:"TheFooter",data:function(){return{}},props:{},computed:{year:function(){return(new Date).getFullYear()}}};c("82b9");k.render=T,k.__scopeId="data-v-bfc10306";var x=k,P={name:"App",components:{TheHeader:v,TheFooter:x},data:function(){return{}},computed:{},methods:{}};P.render=r;var w=P,I=(c("d3b7"),c("25f0"),c("3ca3"),c("ddb0"),c("2b3d"),c("ac1f"),c("1276"),c("fb6a"),c("6c02")),E=Object(j["a"])({state:{token:"",userId:"",playlists:[],tracks:[],playlistId:""},mutations:{SET_TOKEN:function(t,e){console.log("SET_TOKEN",e),t.token=e},SET_USERID:function(t,e){console.log("SET_USERID",e),t.userId=e},SET_PLAYLISTS:function(t,e){console.log("SET_PLAYLISTS",e),t.playlists=e},SET_TRACKS:function(t,e){console.log("SET_TRACKS",e),t.tracks=e},SET_ACTIVEPLAYLIST:function(t,e){console.log("SET_ACTIVEPLAYLIST",e),t.tracks=[],t.playlistId=e}},actions:{setToken:function(t,e){var c=t.commit;c("SET_TOKEN",e)},setUserId:function(t,e){var c=t.commit;c("SET_USERID",e)},setPlaylists:function(t,e){var c=t.commit;c("SET_PLAYLISTS",e)},setTracks:function(t,e){var c=t.commit;c("SET_TRACKS",e)},setActivePlaylist:function(t,e){var c=t.commit;c("SET_ACTIVEPLAYLIST",e)}},getters:{getToken:function(t){var e=t.token;return e},getUserId:function(t){var e=t.userId;return e},getPlaylists:function(t){var e=t.playlists;return e},getTracks:function(t){var e=t.tracks;return e},getActivePlaylist:function(t){var e=t.playlistId;return e}},modules:{}}),S={class:"row"},_={class:"col-12 col-md-6"},A=Object(a["h"])("p",{class:"mb-5"}," Radioify is a Spotify-integrated application which generates radio-edit, non-explicit versions of your playlists. ",-1),C={class:"card card-body"},L=Object(a["g"])("Log In to Spotify");function q(t,e,c,n,o,s){var r=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",S,[Object(a["h"])("div",_,[A,Object(a["h"])("div",C,[Object(a["h"])(r,{class:"btn btn-primary",to:{name:"Playlists"}},{default:Object(a["D"])((function(){return[L]})),_:1})])])])}var R={name:"Main",components:{},created:function(){}};R.render=q;var U=R;function B(t,e,c,n,o,s){var r=Object(a["x"])("LoadingCard"),i=Object(a["x"])("PlaylistList");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["E"])(Object(a["h"])(r,{label:"playlist"},null,512),[[a["B"],0==t.getPlaylists.length]]),Object(a["E"])(Object(a["h"])(i,null,null,512),[[a["B"],t.getPlaylists.length>0]])])}var F={class:"card card-body"},z={class:"text-center h4 mb-3"},N=Object(a["h"])("div",{class:"progress"},[Object(a["h"])("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})],-1);function M(t,e,c,n,o,s){return Object(a["q"])(),Object(a["d"])("div",F,[Object(a["h"])("div",z,"Loading "+Object(a["z"])(c.label)+"...",1),N])}var Y={name:"LoadingCard",data:function(){return{}},props:{label:{type:String}},computed:{},methods:{}};Y.render=M;var H=Y;function K(t,e,c,n,o,s){var r=Object(a["x"])("PlaylistItem");return Object(a["q"])(),Object(a["d"])("div",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.getPlaylists,(function(t){return Object(a["q"])(),Object(a["d"])("div",{key:t.id},[Object(a["h"])(r,{payload:t},null,8,["payload"])])})),128))])}c("b0c0");var D=Object(a["F"])("data-v-1f16e728");Object(a["t"])("data-v-1f16e728");var V={class:"d-flex flex-row justify-content-between"},G={class:""},Q={class:"d-flex flex-row"},J={class:""},X={class:""},$={class:"card-title"},W={class:"card-text badge bg-info"},Z={class:""},tt=Object(a["h"])("i",{class:"bi bi-arrow-right-circle"},null,-1);Object(a["r"])();var et=D((function(t,e,c,n,o,s){var r;return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["h"])("div",{class:"card card-body btn btn-light text-start mb-3",onClick:e[2]||(e[2]=function(t){return s.fetchQueries(c.payload.tracks.href)})},[Object(a["h"])("div",V,[Object(a["h"])("div",G,[Object(a["h"])("div",Q,[Object(a["h"])("div",J,[Object(a["h"])("img",{src:null===(r=c.payload.images[1])||void 0===r?void 0:r.url,class:"\n                  img-fluid\n                  rounded-start\n                  me-3\n                  playlist-thumb\n                  d-none d-md-block\n                "},null,8,["src"])]),Object(a["h"])("div",X,[Object(a["h"])("h5",$,Object(a["z"])(c.payload.name),1),Object(a["h"])("p",W,Object(a["z"])(c.payload.tracks.total)+" tracks ",1)])])]),Object(a["h"])("div",Z,[Object(a["h"])("button",{class:"btn btn-link btn-lg btn-huge",onClick:e[1]||(e[1]=function(t){return s.fetchQueries(c.payload.tracks.href)})},[tt])])])])])})),ct={name:"PlaylistItem",components:{},data:function(){return{}},props:{payload:Object},computed:{},methods:Object(p["a"])(Object(p["a"])({},Object(j["b"])(["setActivePlaylist"])),{},{fetchQueries:function(t){this.setActivePlaylist(t),this.$router.push({name:"Tracks"})}})};c("5545");ct.render=et,ct.__scopeId="data-v-1f16e728";var at=ct,nt={name:"ThePlaylists",components:{PlaylistItem:at},computed:Object(p["a"])({},Object(j["c"])(["getToken","getUserId","getPlaylists"])),methods:Object(p["a"])(Object(p["a"])({},Object(j["b"])(["setUserId","setPlaylists"])),{},{fetchPlaylists:function(){var t=this,e="https://api.spotify.com/v1/users/".concat(this.getUserId,"/playlists"),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken)}};this.axios.get(e,c).then((function(e){t.setPlaylists(e.data.items)}))},getUserInfo:function(t){var e=this,c="https://api.spotify.com/v1/me",a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken)}};this.axios.get(c,a).then((function(c){console.log("My Info",c),e.setUserId(c.data.id),t&&t()}))}}),mounted:function(){var t=this;setTimeout((function(){t.getUserInfo((function(){t.fetchPlaylists()}))}),500)}};nt.render=K;var ot=nt,st={name:"Playlists",components:{LoadingCard:H,PlaylistList:ot},computed:Object(p["a"])({},Object(j["c"])(["getPlaylists"])),methods:{},created:function(){}};st.render=B;var rt=st;function it(t,e,c,n,o,s){var r=Object(a["x"])("LoadingCard"),i=Object(a["x"])("TrackList");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["E"])(Object(a["h"])(r,{label:"tracks"},null,512),[[a["B"],0==t.getTracks.length]]),Object(a["E"])(Object(a["h"])(i,null,null,512),[[a["B"],t.getTracks.length>0]])])}function lt(t,e,c,n,o,s){var r=Object(a["x"])("TrackItem");return Object(a["q"])(),Object(a["d"])("div",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.getTracks,(function(t){return Object(a["q"])(),Object(a["d"])("div",{key:t.id},[Object(a["h"])(r,{payload:t.track},null,8,["payload"])])})),128))])}var dt=Object(a["F"])("data-v-0a0c63e5");Object(a["t"])("data-v-0a0c63e5");var bt={class:"card card-body mb-3"},ut={class:"row"},ht={class:"col"},ft={class:"d-flex flex-row justify-content-between"},pt={class:""},jt={class:"d-flex flex-row"},Ot={class:""},vt={class:""},gt={class:"h6 card-title m-0"},mt={key:0},yt=Object(a["h"])("br",null,null,-1),Tt={class:"badge bg-danger text-uppercase"},kt={class:"col"},xt={class:"h6 card-title m-0"},Pt={key:0},wt=Object(a["h"])("p",null,"Searching done.",-1),It=Object(a["h"])("span",{class:"badge fw-bold bg-warning"},"Not Found",-1),Et={class:""},St=Object(a["h"])("div",{class:"text-center fw-bold mb-3"},"Searching...",-1),_t=Object(a["h"])("div",{class:"progress"},[Object(a["h"])("div",{class:"\n                progress-bar\n                bg-warning\n                progress-bar-striped progress-bar-animated\n              ",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})],-1);Object(a["r"])();var At=dt((function(t,e,c,n,o,s){var r;return Object(a["q"])(),Object(a["d"])("div",bt,[Object(a["h"])("div",ut,[Object(a["h"])("div",ht,[Object(a["h"])("div",ft,[Object(a["h"])("div",pt,[Object(a["h"])("div",jt,[Object(a["h"])("div",Ot,[Object(a["h"])("img",{src:null===(r=c.payload.album.images[1])||void 0===r?void 0:r.url,class:"\n                    img-fluid\n                    rounded-start\n                    me-3\n                    playlist-thumb\n                    d-none d-md-block\n                  "},null,8,["src"])]),Object(a["h"])("div",vt,[Object(a["h"])("div",gt,Object(a["z"])(c.payload.name),1),Object(a["h"])("small",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(c.payload.artists,(function(t,e){return Object(a["q"])(),Object(a["d"])("span",{key:t.id},[Object(a["g"])(Object(a["z"])(t.name),1),e!=c.payload.artists.length-1?(Object(a["q"])(),Object(a["d"])("span",mt,", ")):Object(a["e"])("",!0)])})),128))]),yt,Object(a["E"])(Object(a["h"])("span",Tt,"explicit",512),[[a["B"],c.payload.explicit]])])])])])]),Object(a["h"])("div",kt,[Object(a["E"])(Object(a["h"])("div",null,[Object(a["h"])("div",xt,Object(a["z"])(t.foundTitle.name),1),Object(a["h"])("small",null,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.foundTitle.artists,(function(e,c){return Object(a["q"])(),Object(a["d"])("span",{key:e.id},[Object(a["g"])(Object(a["z"])(e.name),1),c!=t.foundTitle.artists.length-1?(Object(a["q"])(),Object(a["d"])("span",Pt,", ")):Object(a["e"])("",!0)])})),128))])],512),[[a["B"],!t.searching&&t.found]]),Object(a["E"])(Object(a["h"])("div",null,[wt,It],512),[[a["B"],!t.searching&&!t.found]]),Object(a["E"])(Object(a["h"])("div",Et,[St,_t],512),[[a["B"],c.payload.explicit&&t.searching]])])])])})),Ct=(c("4de4"),c("99af"),{name:"TrackItem",components:{},data:function(){return{searching:!1,found:!1,foundTitle:{}}},props:{payload:Object},computed:Object(p["a"])({},Object(j["c"])(["getToken","getUserId"])),methods:{fetchCleanTrack:function(){var t=this;console.log("Fetching clean track..."),this.searching=!0;var e="https://api.spotify.com/v1/search?q=".concat(this.payload.name,"&type=track&limit=50");console.log(e);var c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken)}};this.axios.get(e,c).then((function(e){console.log(e.data.tracks),t.searching=!1;var c=e.data.tracks.items.filter((function(e){return 1==e.explicit?(console.log("Not explicit"),!1):e.name!=t.payload.name?(console.log("Not match"),!1):(console.log("MATCH"),!0)}));console.log(c),t.found=c.length,t.foundTitle=t.found?c[0]:{}}))},fetchCleanTrackArtist:function(){var t=this;console.log("Fetching  artist..."),this.searching=!0;var e=this.payload.artists[0].name,c="https://api.spotify.com/v1/search?q=".concat(this.payload.name,"%20artist:").concat(e,"&type=track&limit=50");console.log(c);var a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken)}};this.axios.get(c,a).then((function(e){console.log(e.data.tracks),t.searching=!1;var c=e.data.tracks.items.filter((function(e){return 1==e.explicit?(console.log("Not explicit"),!1):e.name!=t.payload.name?(console.log("Not match"),!1):(console.log("MATCH"),!0)}));console.log(c),t.found=c.length,t.foundTitle=t.found?c[0]:{},t.found||t.fetchCleanTrack()}))}},created:function(){this.fetchCleanTrackArtist()}});c("c5e3");Ct.render=At,Ct.__scopeId="data-v-0a0c63e5";var Lt=Ct,qt={name:"TheTracks",components:{TrackItem:Lt},computed:Object(p["a"])({},Object(j["c"])(["getToken","getUserId","getTracks","getActivePlaylist"])),methods:Object(p["a"])(Object(p["a"])({},Object(j["b"])(["setUserId","setTracks"])),{},{fetchTracks:function(){var t=this;console.log("Tracks...");var e={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken)}};this.axios.get(this.getActivePlaylist,e).then((function(e){console.log(e.data),t.setTracks(e.data.items)}))},waitForPlaylistId:function(){var t=this;setTimeout((function(){t.getActivePlaylist?t.fetchTracks():t.waitForPlaylistId()}),500)}}),mounted:function(){this.waitForPlaylistId()}};qt.render=lt;var Rt=qt,Ut={name:"Tracks",components:{LoadingCard:H,TrackList:Rt},computed:Object(p["a"])({},Object(j["c"])(["getTracks"])),methods:{},created:function(){}};Ut.render=it;var Bt=Ut;function Ft(t,e,c,n,o,s){return Object(a["q"])(),Object(a["d"])("div")}var zt={name:"Callback",components:{},data:function(){return{playlists:[],tracks:[]}},computed:Object(p["a"])({},Object(j["c"])(["getToken","getUserId"])),methods:{fetchCleanTrack:function(t){console.log("Fetching clean track...");var e="https://api.spotify.com/v1/search?q=".concat(t.name,"&type=track&limit=50");console.log(e);var c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getToken)}};this.axios.get(e,c).then((function(e){console.log(e.data.tracks);var c=e.data.tracks.items.filter((function(e){return 1==e.explicit?(console.log("Not explicit"),!1):e.name!=t.name?(console.log("Not match"),!1):(console.log("MATCH"),!0)}));console.log(c)}))}}};zt.render=Ft;var Nt=zt,Mt=[{path:"/",name:"Main",component:U,beforeEnter:Ht},{path:"/playlists",name:"Playlists",component:rt,beforeEnter:Kt},{path:"/tracks",name:"Tracks",component:Bt,beforeEnter:Kt},{path:"/callback",name:"Callback",component:Nt,beforeEnter:Kt}],Yt=Object(I["a"])({mode:"history",linkExactActiveClass:"active",history:Object(I["b"])("/radioify/"),routes:Mt});function Ht(t,e,c){E.getters.getToken?(console.log("ROUTER >>>> PLAYLIST"),c({name:"Playlists"})):(console.log("ROUTER >>>> checkauthtoken.NEXT"),c())}function Kt(t,e,c){console.log("GetAuthToken",Vt),E.getters.getToken?(console.log("ROUTER >>>> getauthtoken.NEXT"),c()):Vt.access_token?(E.dispatch("setToken",Vt.access_token),console.log("ROUTER >>>> PLAYLIST"),c({name:"Playlists"})):(console.log("ROUTER >>>> MAIN"),Dt(),c({name:"Main"}))}function Dt(){console.log("Fetching Auth...");var t="https://accounts.spotify.com/authorize",e={client_id:"c1cabc977ad84b46af06f35e1f3699a8",response_type:"token",redirect_uri:"http://localhost:8080/callback",state:"xyz",scope:"playlist-modify-public"},c=new URLSearchParams(e).toString();console.log("Fetching auth....","".concat(t,"?").concat(c)),window.location.href="".concat(t,"?").concat(c)}var Vt=function(){var t={},e=window.location.hash,c=e.split(/src=/);t["src"]=c[1];for(var a=c[0].split("&"),n=0;n<a.length;n++){var o=a[n].split("=");if(0==n){var s=o[0];o[0]=s.slice(1)}t[o[0]]=decodeURI(o[1])}return t}(),Gt=Yt,Qt=c("bc3a"),Jt=c.n(Qt),Xt=(c("f9e3"),c("cd74"),c("2486"),c("f33e"),Object(a["c"])(w).use(E).use(Gt));Xt.config.globalProperties.axios=Jt.a,Xt.mount("#app")},5935:function(t,e,c){},"6f2c":function(t,e,c){t.exports=c.p+"img/Spotify_Logo_RGB_Green.11dc437a.png"},"82b9":function(t,e,c){"use strict";c("5935")},b5cb:function(t,e,c){"use strict";c("eeda")},c5e3:function(t,e,c){"use strict";c("24eb")},eeda:function(t,e,c){},f33e:function(t,e,c){}});
//# sourceMappingURL=app.56c67a2d.js.map